Description: Prefer QEMU as the default URI, even if it's not installed.
Author: Marc Deslauriers <marc.deslauriers@canonical.com>
Forwarded: no, Ubuntu-specific preference

Index: virt-manager-1.4.2/virtManager/connect.py
===================================================================
--- virt-manager-1.4.2.orig/virtManager/connect.py	2017-08-09 17:53:25.011704718 +0200
+++ virt-manager-1.4.2/virtManager/connect.py	2017-08-09 17:53:25.007704776 +0200
@@ -109,11 +109,6 @@
 
     @staticmethod
     def default_uri():
-        if os.path.exists('/var/lib/xen'):
-            if (os.path.exists('/dev/xen/evtchn') or
-                os.path.exists("/proc/xen")):
-                return 'xen:///'
-
         if (os.path.exists("/usr/bin/qemu") or
             os.path.exists("/usr/bin/qemu-kvm") or
             os.path.exists("/usr/bin/kvm") or
@@ -123,9 +118,10 @@
             glob.glob("/usr/bin/qemu-system-*")):
             return "qemu:///system"
 
-        if (os.path.exists("/usr/lib/libvirt/libvirt_lxc") or
-            os.path.exists("/usr/lib64/libvirt/libvirt_lxc")):
-            return "lxc:///"
+        if os.path.exists('/var/lib/xen'):
+            if (os.path.exists('/dev/xen/evtchn') or
+                os.path.exists("/proc/xen")):
+                return 'xen:///'
         return None
 
     def cancel(self, ignore1=None, ignore2=None):
